System.register(["jimu-core/emotion","jimu-core","jimu-ui","jimu-arcgis"],function(e,t){var i={},o={},r={},n={};return{setters:[function(e){i.jsx=e.jsx,i.jsxs=e.jsxs},function(e){o.DataSourceManager=e.DataSourceManager,o.React=e.React},function(e){r.Alert=e.Alert,r.Button=e.Button,r.Card=e.Card,r.CardBody=e.CardBody,r.Loading=e.Loading,r.Progress=e.Progress,r.Select=e.Select,r.TextInput=e.TextInput},function(e){n.JimuMapViewComponent=e.JimuMapViewComponent}],execute:function(){e((()=>{var e={213:function(e,t,i){var o,r,n;r=[],void 0===(n="function"==typeof(o=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,i){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){l(o.response,t,i)},o.onerror=function(){console.error("could not download file")},o.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i.g&&i.g.global===i.g?i.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,i){var a=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?n(l):r(l.href)?o(e,t,i):n(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){n(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,i,s){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),i);else if(r(e))o(e,i,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){n(a)})}}:function(e,t,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,i);var n="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||n&&l||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=d?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},c.readAsDataURL(e)}else{var p=s.URL||s.webkitURL,h=p.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){p.revokeObjectURL(h)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})?o.apply(t,r):o)||(e.exports=n)},244:e=>{"use strict";e.exports=o},321:e=>{"use strict";e.exports=r},386:e=>{"use strict";e.exports=i},686:e=>{"use strict";e.exports=n}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="";var a={};return s.p=window.jimuConfig.baseUrl,(()=>{"use strict";s.r(a),s.d(a,{__set_webpack_public_path__:()=>d,default:()=>l});var e=s(386),t=s(244),i=s(321),o=s(686),r=s(213),n=function(e,t,i,o){return new(i||(i=Promise))(function(r,n){function s(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((o=o.apply(e,t||[])).next())})};class l extends t.React.PureComponent{constructor(e){super(e),this.SERVICE_URL="https://services9.arcgis.com/Gh9awoU677aKree0/arcgis/rest/services/Florida_Statewide_Cadastral/FeatureServer/0",this.GP_SERVICE_URL="https://gis.drmp.com/arcgis/rest/services/GeoJSONTool_CUSTOMWIDGET/GPServer/GeoJSON%20to%20SHP%20or%20KML",this.GP_INPUT_PARAM="input_geojson",this.GP_ZONE_PARAM="state_plane_zone",this.GP_FORMAT_PARAM="export_format",this.GP_OUTPUT_PARAM="output_file",this.zoneOptions=[{value:"2236",label:"Florida East",epsg:"EPSG:2236"},{value:"2237",label:"Florida West",epsg:"EPSG:2237"},{value:"2238",label:"Florida North",epsg:"EPSG:2238"}],this.activeViewChangeHandler=e=>{this.setState({activeView:e},()=>{this.refreshSelection()})},this.handleCrsChange=e=>{const t=this.zoneOptions.find(t=>t.value===e);t&&this.setState({selectedCrs:e,selectedZone:t.label})},this.handleFileNameChange=e=>{this.setState({fileName:e.target.value})},this.state={selectedCrs:"2236",selectedZone:"Florida East",selectedFormat:"shp",selectedFeatures:[],isExporting:!1,exportMessage:"",exportError:"",exportSuccess:!1,isLoading:!1,activeView:null,jobProgress:0,downloadUrl:"",fileName:"florida_parcels",showSaveDialog:!1}}refreshSelection(){return n(this,void 0,void 0,function*(){try{this.setState({isLoading:!0});const e=t.DataSourceManager.getInstance().getDataSources();let i=[];for(const t in e){const o=e[t];if("FEATURE_LAYER"===o.type){const e=(o.getSelectedRecordIds()||[]).map(e=>parseInt(e.toString())).filter(e=>!isNaN(e));i=[...i,...e]}}if(0===i.length)return void this.setState({selectedFeatures:[],isLoading:!1});const o=[...new Set(i)],r=[],n=this.chunkArray(o,100);for(const e of n){const t=`${this.SERVICE_URL}/query?where=OBJECTID IN (${e.join(",")})&outFields=PARCEL_ID&returnGeometry=true&outSR=3086&f=json`,i=yield fetch(t),o=yield i.json();o.features&&o.features.forEach(e=>{var t;(null===(t=e.geometry)||void 0===t?void 0:t.rings)&&r.push({geometry:e.geometry,attributes:e.attributes})})}this.setState({selectedFeatures:r,isLoading:!1})}catch(e){console.error("Refresh error:",e),this.setState({isLoading:!1})}})}chunkArray(e,t){const i=[];for(let o=0;o<e.length;o+=t)i.push(e.slice(o,o+t));return i}downloadFile(e,t,i){return n(this,void 0,void 0,function*(){try{const o=yield fetch(e),n=yield o.blob(),s="shp"===i?".zip":".kmz",a=t.endsWith(s)?t:t+s;(0,r.saveAs)(n,a),this.setState({downloadUrl:e,exportSuccess:!0,exportMessage:`\u2705 File saved as: ${a}`})}catch(e){console.error("Download failed:",e),this.setState({exportError:`Download failed: ${e.message}`})}})}exportToGPService(e,t,i){return n(this,void 0,void 0,function*(){var o,r,n;try{this.setState({exportMessage:"\u{1f4e6} Preparing...",jobProgress:10});const s={type:"FeatureCollection",properties:{filename:this.state.fileName||"florida_parcels"},features:e.map(e=>({type:"Feature",geometry:{type:"Polygon",coordinates:e.geometry.rings},properties:e.attributes}))},a=new FormData;a.append("f","json"),a.append(this.GP_INPUT_PARAM,JSON.stringify(s)),a.append(this.GP_ZONE_PARAM,t),a.append(this.GP_FORMAT_PARAM,"shp"===i?"Shapefile (ZIP)":"KML"),this.setState({exportMessage:"\u23f3 Submitting...",jobProgress:30});const l=yield fetch(`${this.GP_SERVICE_URL}/submitJob`,{method:"POST",body:a}),d=yield l.json();if(d.jobId){const e=d.jobId,t=`${this.GP_SERVICE_URL}/jobs/${e}`;this.setState({exportMessage:"\u2699\ufe0f Processing...",jobProgress:50});let s="esriJobSubmitted",a=0;for(;"esriJobSucceeded"!==s&&a<30;){yield this.sleep(1500);const e=yield fetch(`${t}?f=json`),i=yield e.json();if(s=i.jobStatus,this.setState({jobProgress:Math.min(50+2*a,90)}),"esriJobFailed"===s){const e=(null===(r=null===(o=i.messages)||void 0===o?void 0:o.filter(e=>"esriJobMessageTypeError"===e.type))||void 0===r?void 0:r.map(e=>e.description).join(", "))||"Unknown error";throw new Error(e)}a++}if("esriJobSucceeded"===s){this.setState({exportMessage:"\u{1f4e5} Downloading...",jobProgress:95});const e=`${t}/results/${this.GP_OUTPUT_PARAM}?f=json`,o=yield fetch(e),r=yield o.json();(null===(n=r.value)||void 0===n?void 0:n.url)&&(yield this.downloadFile(r.value.url,this.state.fileName,i),this.setState({jobProgress:100}))}}}catch(e){throw e}})}sleep(e){return new Promise(t=>setTimeout(t,e))}exportFeatures(){return n(this,void 0,void 0,function*(){this.setState({isExporting:!0,exportMessage:"",exportError:"",exportSuccess:!1,jobProgress:0,downloadUrl:""});try{const{selectedZone:e,selectedFormat:t,selectedFeatures:i,fileName:o}=this.state;if(0===i.length)throw new Error("No parcels selected.");if(!o.trim())throw new Error("Please enter a file name.");yield this.exportToGPService(i,e,t)}catch(e){this.setState({exportError:`Export failed: ${e.message}`})}finally{this.setState({isExporting:!1})}})}render(){var t;const{selectedFeatures:r,isExporting:n,exportMessage:s,exportError:a,exportSuccess:l,selectedFormat:d,selectedZone:c,isLoading:p,jobProgress:h,downloadUrl:x,fileName:g}=this.state,f=this.zoneOptions.find(e=>e.value===this.state.selectedCrs),u=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),m=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),S=Math.min(u/1920,1.5),y=Math.min(m/1080,1.5),b=Math.min(S,y,1.2),v=u<600,w=m<700,j=v?.85:u>=1024?b:1,z="#1a1a1a",C="#2d2d2d",P="#404040",R="#e0e0e0",k="#b0b0b0",T="#8a8a8a",M="#2b7a9c",E="#3a9bc2",F="#2c7a4d",_="#b34a4a",I="#252525",A="#2b7a9c",O={containerPadding:(v?8:w?10:16*j)+"px",containerMaxWidth:v?"100%":u>=600&&u<1024?"80%":"min(600px, 40vw)",headerIconSize:(v?28:w?30:36*j)+"px",headerIconFont:(v?14:w?15:18*j)+"px",headerTitleSize:(v?18:w?20:24*j)+"px",headerSubSize:(v?10:w?11:13*j)+"px",headerMargin:(v?8:w?10:16*j)+"px",circleSize:(v?24:w?26:32*j)+"px",circleFont:(v?13:w?14:16*j)+"px",cardPadding:(v?8:w?10:14*j)+"px",cardMargin:(v?6:w?8:12*j)+"px",leftMargin:(v?28:w?32:42*j)+"px",stepTitleSize:(v?13:w?14:16*j)+"px",bodyTextSize:(v?12:w?13:14*j)+"px",smallTextSize:(v?10:w?11:12*j)+"px",tinyTextSize:(v?8:w?9:10*j)+"px",selectHeight:(v?28:w?30:36*j)+"px",selectFont:(v?11:w?12:13*j)+"px",buttonHeight:(v?30:w?32:40*j)+"px",buttonFont:(v?12:w?13:15*j)+"px",inputHeight:(v?28:w?30:36*j)+"px",inputFont:(v?11:w?12:13*j)+"px",formatCardIconSize:(v?16:w?18:22*j)+"px",formatCardTitleSize:(v?11:w?12:14*j)+"px",formatCardDescSize:(v?8:w?9:10*j)+"px",formatCardPadding:(v?6:w?8:12*j)+"px",formatCardGap:(v?6:w?8:12*j)+"px",badgeSize:(v?8:w?9:10*j)+"px",badgePadding:`${v?2:w?3:4*j}px ${v?6:w?8:10*j}px`,progressHeight:(v?4:w?5:6*j)+"px",footerPadding:(v?4:w?6:8*j)+"px",footerFont:(v?7:w?8:9*j)+"px",footerMediumFont:(v?10:w?11:12*j)+"px"};return(0,e.jsxs)("div",{style:{padding:O.containerPadding,width:"100%",maxWidth:O.containerMaxWidth,margin:"0 auto",backgroundColor:z,color:R,height:"100%",display:"flex",flexDirection:"column",boxSizing:"border-box",overflowY:"auto",overflowX:"hidden",transition:"all 0.2s ease"},children:[(0,e.jsx)(o.JimuMapViewComponent,{useMapWidgetId:null===(t=this.props.useMapWidgetIds)||void 0===t?void 0:t[0],onActiveViewChange:this.activeViewChangeHandler}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:O.headerMargin,flexShrink:0},children:[(0,e.jsx)("div",{style:{width:O.headerIconSize,height:O.headerIconSize,backgroundColor:M,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:v?"8px":"12px",color:"white",fontSize:O.headerIconFont,fontWeight:"bold",flexShrink:0},children:"FL"}),(0,e.jsxs)("div",{style:{minWidth:0},children:[(0,e.jsx)("h2",{style:{margin:0,color:M,fontSize:O.headerTitleSize,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Florida Parcels Export"}),(0,e.jsx)("p",{style:{margin:"2px 0 0 0",color:k,fontSize:O.headerSubSize,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Shapefile \u2022 KMZ"})]})]}),(0,e.jsx)(i.Card,{style:{marginBottom:O.cardMargin,backgroundColor:I,borderRadius:"8px",flexShrink:0},children:(0,e.jsxs)(i.CardBody,{style:{padding:O.cardPadding},children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:v?"4px":"8px"},children:[(0,e.jsx)("div",{style:{width:O.circleSize,height:O.circleSize,backgroundColor:A,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",color:"white",fontSize:O.circleFont,fontWeight:"bold",flexShrink:0},children:"1"}),(0,e.jsx)("span",{style:{fontWeight:600,fontSize:O.stepTitleSize},children:"Select"})]}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:C,padding:v?"6px":"10px",borderRadius:"6px",marginLeft:O.leftMargin},children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",minWidth:0,flex:"1 1 auto"},children:[(0,e.jsx)("div",{style:{width:v?"18px":"24px",height:v?"18px":"24px",borderRadius:"12px",backgroundColor:r.length>0?F:T,display:"flex",alignItems:"center",justifyContent:"center",marginRight:"8px",color:"white",fontSize:v?"10px":"13px",flexShrink:0},children:"\u2713"}),(0,e.jsxs)("span",{style:{fontWeight:600,fontSize:O.bodyTextSize,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[r.length," ",1===r.length?"Parcel":"Parcels"]})]}),(0,e.jsx)(i.Button,{size:"sm",onClick:()=>this.refreshSelection(),disabled:p,style:{backgroundColor:M,border:"none",padding:v?"2px 8px":"2px 12px",fontSize:O.smallTextSize,height:v?"22px":"26px",flexShrink:0,marginLeft:"8px"},children:p?"...":"Refresh"})]})]})}),(0,e.jsx)(i.Card,{style:{marginBottom:O.cardMargin,backgroundColor:I,borderRadius:"8px",flexShrink:0},children:(0,e.jsxs)(i.CardBody,{style:{padding:O.cardPadding},children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:v?"8px":"12px"},children:[(0,e.jsx)("div",{style:{width:O.circleSize,height:O.circleSize,backgroundColor:A,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",color:"white",fontSize:O.circleFont,fontWeight:"bold",flexShrink:0},children:"2"}),(0,e.jsx)("span",{style:{fontWeight:600,fontSize:O.stepTitleSize},children:"Configure"})]}),(0,e.jsxs)("div",{style:{marginLeft:O.leftMargin},children:[(0,e.jsxs)("div",{style:{marginBottom:v?"8px":"16px"},children:[(0,e.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:O.smallTextSize,fontWeight:600,color:k},children:"\u{1f4c4} File Name"}),(0,e.jsx)(i.TextInput,{value:g,onChange:this.handleFileNameChange,placeholder:"Enter file name (e.g., my_parcels)",style:{width:"100%",backgroundColor:C,color:R,border:`1px solid ${P}`,height:O.inputHeight,fontSize:O.inputFont,padding:"0 8px",borderRadius:"6px"},disabled:n}),(0,e.jsxs)("div",{style:{marginTop:"4px",fontSize:O.tinyTextSize,color:T},children:["File will be saved as: ",g||"florida_parcels","shp"===d?".zip":".kmz"]})]}),(0,e.jsxs)("div",{style:{marginBottom:v?"8px":"16px"},children:[(0,e.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:O.smallTextSize,fontWeight:600,color:k},children:"\u{1f4cd} State Plane"}),(0,e.jsx)(i.Select,{value:this.state.selectedCrs,onChange:e=>this.handleCrsChange(e.target.value),style:{width:"100%",backgroundColor:C,color:R,border:`1px solid ${P}`,height:O.selectHeight,fontSize:O.selectFont},disabled:n,children:this.zoneOptions.map(t=>(0,e.jsx)("option",{value:t.value,style:{backgroundColor:C,color:R},children:t.label},t.value))}),f&&(0,e.jsx)("div",{style:{marginTop:"4px",fontSize:O.tinyTextSize,color:E,backgroundColor:`${M}20`,padding:v?"2px 8px":"3px 10px",borderRadius:"12px",display:"inline-block"},children:f.epsg})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:O.smallTextSize,fontWeight:600,color:k},children:"\u{1f4e6} Format"}),(0,e.jsxs)("div",{style:{display:"flex",gap:O.formatCardGap},children:[(0,e.jsxs)("div",{onClick:()=>!n&&this.setState({selectedFormat:"shp"}),style:{flex:"1 1 0",minWidth:0,padding:O.formatCardPadding,border:"shp"===d?`2px solid ${M}`:`1px solid ${P}`,borderRadius:"8px",backgroundColor:"shp"===d?`${M}20`:C,cursor:"pointer",position:"relative",transition:"all 0.2s"},children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[(0,e.jsx)("span",{style:{fontSize:O.formatCardIconSize,marginRight:"6px",flexShrink:0},children:"\u{1f4c1}"}),(0,e.jsx)("span",{style:{fontWeight:700,fontSize:O.formatCardTitleSize,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"SHP"})]}),(0,e.jsx)("div",{style:{fontSize:O.formatCardDescSize,color:T,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:".shp .shx .dbf .prj .cpg"}),"shp"===d&&(0,e.jsxs)("div",{style:{position:"absolute",top:v?"-6px":"-8px",right:v?"-6px":"-8px",backgroundColor:F,color:"white",fontSize:O.badgeSize,fontWeight:600,padding:O.badgePadding,borderRadius:"14px",boxShadow:"0 2px 4px rgba(0,0,0,0.3)",border:`2px solid ${I}`,display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[(0,e.jsx)("span",{style:{fontSize:v?"10px":"12px"},children:"\u2713"}),"Selected"]})]}),(0,e.jsxs)("div",{onClick:()=>!n&&this.setState({selectedFormat:"kmz"}),style:{flex:"1 1 0",minWidth:0,padding:O.formatCardPadding,border:"kmz"===d?`2px solid ${M}`:`1px solid ${P}`,borderRadius:"8px",backgroundColor:"kmz"===d?`${M}20`:C,cursor:"pointer",position:"relative",transition:"all 0.2s"},children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[(0,e.jsx)("span",{style:{fontSize:O.formatCardIconSize,marginRight:"6px",flexShrink:0},children:"\u{1f30d}"}),(0,e.jsx)("span",{style:{fontWeight:700,fontSize:O.formatCardTitleSize,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"KMZ"})]}),(0,e.jsx)("div",{style:{fontSize:O.formatCardDescSize,color:T,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Google Earth"}),"kmz"===d&&(0,e.jsxs)("div",{style:{position:"absolute",top:v?"-6px":"-8px",right:v?"-6px":"-8px",backgroundColor:F,color:"white",fontSize:O.badgeSize,fontWeight:600,padding:O.badgePadding,borderRadius:"14px",boxShadow:"0 2px 4px rgba(0,0,0,0.3)",border:`2px solid ${I}`,display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[(0,e.jsx)("span",{style:{fontSize:v?"10px":"12px"},children:"\u2713"}),"Selected"]})]})]})]})]})]})}),(0,e.jsx)(i.Card,{style:{marginBottom:O.cardMargin,backgroundColor:I,borderRadius:"8px",flexShrink:0},children:(0,e.jsxs)(i.CardBody,{style:{padding:O.cardPadding},children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:v?"8px":"12px"},children:[(0,e.jsx)("div",{style:{width:O.circleSize,height:O.circleSize,backgroundColor:A,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",color:"white",fontSize:O.circleFont,fontWeight:"bold",flexShrink:0},children:"3"}),(0,e.jsx)("span",{style:{fontWeight:600,fontSize:O.stepTitleSize},children:"Export"})]}),(0,e.jsxs)("div",{style:{marginLeft:O.leftMargin},children:[(0,e.jsx)(i.Button,{type:"primary",onClick:()=>this.exportFeatures(),disabled:n||0===r.length||p||!g.trim(),style:{width:"100%",height:O.buttonHeight,fontSize:O.buttonFont,fontWeight:700,backgroundColor:M,border:"none",borderRadius:"6px",marginBottom:"10px",letterSpacing:"0.5px"},children:n?"PROCESSING":"EXPORT "+("shp"===d?"SHP":"KMZ")}),n&&h>0&&(0,e.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,e.jsx)(i.Progress,{value:h,style:{height:O.progressHeight,borderRadius:"3px",backgroundColor:C}}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px",fontSize:O.tinyTextSize},children:[(0,e.jsx)("span",{style:{color:E},children:s}),(0,e.jsxs)("span",{style:{fontWeight:600},children:[h,"%"]})]})]}),l&&x&&(0,e.jsxs)("div",{style:{backgroundColor:`${F}20`,padding:v?"8px":"10px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px",border:`1px solid ${F}`},children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:v?"wrap":"nowrap"},children:[(0,e.jsx)("span",{style:{fontSize:O.smallTextSize,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s}),(0,e.jsx)("span",{style:{fontSize:O.tinyTextSize,color:k},children:"Auto-saved to downloads"})]}),(0,e.jsx)(i.Button,{size:"sm",onClick:()=>window.open(x,"_blank"),style:{backgroundColor:F,border:"none",padding:v?"4px 8px":"4px 12px",fontSize:O.smallTextSize,height:v?"28px":"32px",width:"100%",fontWeight:600},children:"\u{1f4e5} Download Again if Needed"})]}),a&&(0,e.jsx)(i.Alert,{type:"error",withIcon:!0,text:a,style:{marginTop:"6px",fontSize:O.smallTextSize,padding:v?"6px":"8px",backgroundColor:`${_}20`,border:`1px solid ${_}`,color:R,borderRadius:"6px"}})]})]})}),(0,e.jsxs)("div",{style:{marginTop:"auto",paddingTop:O.footerPadding,fontSize:O.footerFont,color:T,textAlign:"center",borderTop:`1px solid ${P}`,flexShrink:0},children:[(0,e.jsx)("p",{style:{margin:"2px 0 0 0"},children:"Developed by the DRMP"}),(0,e.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:O.footerMediumFont,fontWeight:500,color:k},children:"Geospatial Services Division"})]}),n&&(0,e.jsx)(i.Loading,{})]})}}function d(e){s.p=e}})(),a})())}}});